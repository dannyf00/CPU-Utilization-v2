Implementing the same approach on Cortex-M0/1/2/3/4 chips, using SysTick as the tick generator.

Details here: https://dannyelectronics.wordpress.com/2020/07/05/measuring-cpu-mcu-utilization-on-cortex-mx-chips/
